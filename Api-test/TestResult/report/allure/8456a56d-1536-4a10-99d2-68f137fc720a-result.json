{"name": "创建任务成功!", "status": "failed", "statusDetails": {"message": "AssertionError: assert 'failure' == 'success'\n  - success\n  + failure", "trace": "login_oldoperator = <RequestsCookieJar[Cookie(version=0, name='accessToken', value='\"z1sf/qrCweNVYLCyaiuwaxvONeX7M1B2EBq7V6d/rbE=\"', port=...rue, secure=True, expires=None, discard=True, comment=None, comment_url=None, rest={'httponly': None}, rfc2109=False)]>\nclient_idSet = 'f90959140df411eba4c60050568287cb', oldoperator_idSet = '31e68f680df511eba5550050568287cb'\ntaskinfo = {'backupMedia': '', 'clusterVip': '', 'filterDatas': [{'content': [], 'filterMode': 1, 'filterType': 1}, {'content': [...T', 'value': '0'}, {'key': 'EEE_PERMANENT_INCREMENT'}, {'key': 'EEE_ENCRYPTION_XXXX'}, {'key': 'EEE_DEDUP'}, ...], ...}\nexpected = 'success'\n\n    @allure.title(\"创建任务成功!\")\n    @pytest.mark.parametrize(\"taskinfo, expected\",\n                             [\n                                 ({\"backupMedia\": \"\",\n                                   \"clusterVip\": \"\",\n                                   \"filterDatas\": [{\"filterType\": 1, \"filterMode\": 1, \"content\": []},\n                                                   {\"filterType\": 2, \"filterMode\": 1, \"content\": []},\n                                                   {\"filterType\": 3, \"filterMode\": 1, \"content\": {\"filterTypes\": [], \"other\": []}},\n                                                   {\"filterType\": 4, \"filterMode\": 1, \"content\": {}}],\n                                    \"jobType\": \"eso_backupengine_fileengine\",\n                                    \"jobStorageId\": \"1\",\n                                    \"jobPlanId\": \"\",\n                                    \"jobName\": \"file1\",\n                                    \"jobDesc\": \"\",\n                                    \"jobDatabaseRunUsername\": \"\",\n                                    \"jobDataSource\": [{\"fullPath\": \"/recovery\",\n                                                       \"dispPath\": [\"localhost.localdomain(10.2.12.87)\",\"文件系统备份服务器\",\"/\",\"recovery\"],\n                                                       \"customer\": 0,\n                                                       \"nodeType\": 1001,\n                                                       \"uuid\": \"\"}],\n                                    \"jobAdvParam\": [{\"key\": \"EEE_LANFREE_OPEN_FC\", \"value\": \"0\"},\n                                                    {\"key\": \"EEE_LANFREE_CHANNEL_COUNT\", \"value\": \"1\"},\n                                                    {\"key\": \"EEE_AUTO_RESTART\", \"value\": \"0\"},\n                                                    {\"key\": \"EEE_PERMANENT_INCREMENT\"},\n                                                    {\"key\": \"EEE_ENCRYPTION_XXXX\"},\n                                                    {\"key\": \"EEE_DEDUP\"},\n                                                    {\"key\": \"EEE_FLOW_CONTROL_NEW\"},\n                                                    {\"key\": \"EEE_FLOW_CONTROL\"},\n                                                    {\"key\": \"EEE_CUSTOM_SCRIPT\"},\n                                                    {\"key\": \"EEE_AUTO_RESTART_COUNT\", \"value\": \"1\"},\n                                                    {\"key\": \"EEE_AUTO_RESTART_INTERVAL\", \"value\": \"1\"},\n                                                    {\"key\": \"EEE_COMPRESS_ALGO_CHECKED\", \"value\": \"0\"},\n                                                    {\"key\": \"EEE_BACKUP_CHANNEL_CONFS\", \"value\": \"0\"},\n                                                    {\"key\": \"EEE_TRAVERSAL_THREAD\", \"value\": \"20\"},\n                                                    {\"key\": \"EEE_READER_THREAD\", \"value\": \"1\"},\n                                                    {\"key\": \"EEE_JOB_RUN_IMMEDIATELY\", \"value\": \"0\"}]}, \"success\"),\n                             ])\n    def test_create_backup(login_oldoperator, client_idSet, oldoperator_idSet, taskinfo, expected):\n        file = open('D:\\\\MyProject\\\\Api-test\\\\TestData\\\\config.yaml', encoding='utf-8')\n        res = yaml.load(file, Loader=yaml.FullLoader)\n        url = parse.urljoin(res['base_url'], res['backup_url'])\n        method = res['backup_method']\n        header = res['backup_headers']\n        cookie = login_oldoperator\n        taskinfo['jobClientId'] = client_idSet\n        taskinfo['jobCreatorId'] = oldoperator_idSet\n        s = common.Webrequests()\n        response = s.run_main(method, url, taskinfo, header, cookie)\n        print(f'response:{response}')\n>       assert response['status'] == expected\nE       AssertionError: assert 'failure' == 'success'\nE         - success\nE         + failure\n\ntest_wxt07_backup&restore.py:63: AssertionError"}, "parameters": [{"name": "taskinfo", "value": "{'backupMedia': '', 'clusterVip': '', 'filterDatas': [{'filterType': 1, 'filterMode': 1, 'content': []}, {'filterType': 2, 'filterMode': 1, 'content': []}, {'filterType': 3, 'filterMode': 1, 'content': {'filterTypes': [], 'other': []}}, {'filterType': 4, 'filterMode': 1, 'content': {}}], 'jobType': 'eso_backupengine_fileengine', 'jobStorageId': '1', 'jobPlanId': '', 'jobName': 'file1', 'jobDesc': '', 'jobDatabaseRunUsername': '', 'jobDataSource': [{'fullPath': '/recovery', 'dispPath': ['localhost.localdomain(10.2.12.87)', '文件系统备份服务器', '/', 'recovery'], 'customer': 0, 'nodeType': 1001, 'uuid': ''}], 'jobAdvParam': [{'key': 'EEE_LANFREE_OPEN_FC', 'value': '0'}, {'key': 'EEE_LANFREE_CHANNEL_COUNT', 'value': '1'}, {'key': 'EEE_AUTO_RESTART', 'value': '0'}, {'key': 'EEE_PERMANENT_INCREMENT'}, {'key': 'EEE_ENCRYPTION_XXXX'}, {'key': 'EEE_DEDUP'}, {'key': 'EEE_FLOW_CONTROL_NEW'}, {'key': 'EEE_FLOW_CONTROL'}, {'key': 'EEE_CUSTOM_SCRIPT'}, {'key': 'EEE_AUTO_RESTART_COUNT', 'value': '1'}, {'key': 'EEE_AUTO_RESTART_INTERVAL', 'value': '1'}, {'key': 'EEE_COMPRESS_ALGO_CHECKED', 'value': '0'}, {'key': 'EEE_BACKUP_CHANNEL_CONFS', 'value': '0'}, {'key': 'EEE_TRAVERSAL_THREAD', 'value': '20'}, {'key': 'EEE_READER_THREAD', 'value': '1'}, {'key': 'EEE_JOB_RUN_IMMEDIATELY', 'value': '0'}]}"}, {"name": "expected", "value": "'success'"}], "start": 1602663260115, "stop": 1602663262491, "uuid": "4c216224-d2b2-4ca8-bf11-a238161e72fa", "historyId": "0b16870d1ab2a531be8f83eb6248ce25", "testCaseId": "574ad53f09894244d642e54bab27e157", "fullName": "TestCase.test_wxt07_backup&restore#test_create_backup", "labels": [{"name": "parentSuite", "value": "TestCase"}, {"name": "suite", "value": "test_wxt07_backup&restore"}, {"name": "host", "value": "TestDeskV2-055"}, {"name": "thread", "value": "8240-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCase.test_wxt07_backup&restore"}]}